panel.grid = element_blank())
completed_fertility <- data_educ %>%
mutate(educ_simplified = fct_relevel(educ_simplified, c("< 12", "12", "13-15", "16", "> 16"))) %>%
filter(YEAR %in% c(1970:1990),
AGE %in% c(40:50)) %>%
group_by(YEAR, educ_simplified) %>%
summarise(nchildren_born = weighted.mean(CHBORN, w = PERWT),
records = n()) %>%
ungroup()
completed_fertility %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 45-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
completed_fertility_45_50 <- data_educ %>%
mutate(educ_simplified = fct_relevel(educ_simplified, c("< 12", "12", "13-15", "16", "> 16"))) %>%
filter(YEAR %in% c(1970:1990),
AGE %in% c(45:50)) %>%
group_by(YEAR, educ_simplified) %>%
summarise(nchildren_born = weighted.mean(CHBORN, w = PERWT),
records = n()) %>%
ungroup()
completed_fertility %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 45-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
completed_fertility_plot_45_50 <- completed_fertility %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 45-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
# 40 to 50 years of age
completed_fertility_40_50 <- data_educ %>%
mutate(educ_simplified = fct_relevel(educ_simplified, c("< 12", "12", "13-15", "16", "> 16"))) %>%
filter(YEAR %in% c(1970:1990),
AGE %in% c(40:50)) %>%
group_by(YEAR, educ_simplified) %>%
summarise(nchildren_born = weighted.mean(CHBORN, w = PERWT),
records = n()) %>%
ungroup()
#===========================================================================
# Generating plots for children ever born (1970-1990) by maternal education
#===========================================================================
rm(completed_fertility, completed_fertility_40_50, completed_fertility_45_50)
# 45 to 50 years of age
completed_fertility_45_50 <- data_educ %>%
mutate(educ_simplified = fct_relevel(educ_simplified, c("< 12", "12", "13-15", "16", "> 16"))) %>%
filter(YEAR %in% c(1970:1990),
AGE %in% c(45:50)) %>%
group_by(YEAR, educ_simplified) %>%
summarise(nchildren_born = weighted.mean(CHBORN, w = PERWT),
records = n()) %>%
ungroup()
completed_fertility_45_50 %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 45-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
completed_fertility_plot_45_50 <- completed_fertility_45_50 %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 45-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
# 40 to 50 years of age
completed_fertility_40_50 <- data_educ %>%
mutate(educ_simplified = fct_relevel(educ_simplified, c("< 12", "12", "13-15", "16", "> 16"))) %>%
filter(YEAR %in% c(1970:1990),
AGE %in% c(40:50)) %>%
group_by(YEAR, educ_simplified) %>%
summarise(nchildren_born = weighted.mean(CHBORN, w = PERWT),
records = n()) %>%
ungroup()
completed_fertility_plot_40_50 <- completed_fertility_40_50 %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 40-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
completed_fertility_40_50 %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 40-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
completed_fertility_plot_45_50 <- completed_fertility_45_50 %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 45-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
# 45 to 50 years of age
completed_fertility_45_50 <- data_educ %>%
mutate(educ_simplified = fct_relevel(educ_simplified, c("< 12", "12", "13-15", "16", "> 16"))) %>%
filter(YEAR %in% c(1970:1990),
AGE %in% c(45:50)) %>%
group_by(YEAR, educ_simplified) %>%
summarise(nchildren_born = weighted.mean(CHBORN, w = PERWT),
records = n()) %>%
ungroup()
completed_fertility_plot_45_50 <- completed_fertility_45_50 %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 45-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
figure4_path <- "figures/completed_fetility_45_50.jpeg"
overleaf4_path <- "overleaf/completed_fetility_45_50.jpeg"
ggsave(figure4_path, plot = completed_fertility_plot_45_50, dpi = 320, width = 7, height = 5)
ggsave(overleaf4_path, plot = completed_fertility_plot_45_50, dpi = 320, width = 7, height = 5)
rm(completed_fertility_45_50, completed_fertility_plot_45_50)
completed_fertility_45_50 <- data_educ %>%
mutate(educ_simplified = fct_relevel(educ_simplified, c("< 12", "12", "13-15", "16", "> 16"))) %>%
filter(YEAR %in% c(1970:1990),
AGE %in% c(45:50)) %>%
group_by(YEAR, educ_simplified) %>%
summarise(nchildren_born = weighted.mean(CHBORN, w = PERWT),
records = n()) %>%
ungroup()
completed_fertility_plot_45_50 <- completed_fertility_45_50 %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 45-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
figure4_path <- "figures/completed_fetility_45_50.jpeg"
overleaf4_path <- "overleaf/completed_fetility_45_50.jpeg"
ggsave(figure4_path, plot = completed_fertility_plot_45_50, dpi = 320, width = 7, height = 5)
ggsave(overleaf4_path, plot = completed_fertility_plot_45_50, dpi = 320, width = 7, height = 5)
rm(completed_fertility_45_50, completed_fertility_plot_45_50)
completed_fertility_40_50 <- data_educ %>%
mutate(educ_simplified = fct_relevel(educ_simplified, c("< 12", "12", "13-15", "16", "> 16"))) %>%
filter(YEAR %in% c(1970:1990),
AGE %in% c(40:50)) %>%
group_by(YEAR, educ_simplified) %>%
summarise(nchildren_born = weighted.mean(CHBORN, w = PERWT),
records = n()) %>%
ungroup()
completed_fertility_plot_40_50 <- completed_fertility_40_50 %>%
ggplot(aes(x = educ_simplified, y = nchildren_born,
group = YEAR, color = factor(YEAR), shape = factor(YEAR))) +
geom_line(aes(linetype = factor(YEAR)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1970" = "#1b9e77",
"1980" = "#7570b3",
"1990" = "#e31a1c")) +
scale_shape_manual(values = c(15, 17, 18, 8, 16)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash", "solid")) +
labs(x = "Years of Schooling", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (Women aged 40-50)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
figure5_path <- "figures/completed_fetility_40_50.jpeg"
overleaf5_path <- "overleaf/completed_fetility_40_50.jpeg"
ggsave(figure5_path, plot = completed_fertility_plot_40_50, dpi = 320, width = 7, height = 5)
ggsave(overleaf5_path, plot = completed_fertility_plot_40_50, dpi = 320, width = 7, height = 5)
rm(completed_fertility_40_50, completed_fertility_plot_40_50)
# Installing required packages
packages <- c("tidyverse", "ipumsr")
to_install <- packages[!(packages %in% installed.packages()[,"Package"])]
if(length(to_install) > 0) install.packages(to_install)
lapply(packages, require, character.only = TRUE)
# Clean workspace
rm(list = ls())
# Set working directory
setwd("C:/Users/gustavoml/Desktop/Projects/FertilityFacts")
# Loading extract into R
ddi <- read_ipums_ddi("raw/cps_00002.xml")
data <- read_ipums_micro(ddi)
names(data) <- tolower(names(data))
data %>%
filter(year %in% c(1990:2016),
sex == 2,
age %in% c(40:55))
View(data)
# Installing required packages
packages <- c("tidyverse", "ipumsr")
to_install <- packages[!(packages %in% installed.packages()[,"Package"])]
if(length(to_install) > 0) install.packages(to_install)
lapply(packages, require, character.only = TRUE)
# Clean workspace
rm(list = ls())
# Set working directory
setwd("C:/Users/gustavoml/Desktop/Projects/FertilityFacts")
# Loading extract into R
ddi <- read_ipums_ddi("raw/cps_00031.xml")
data <- read_ipums_micro(ddi)
names(data) <- tolower(names(data))
View(data)
data %>%
filter(year %in% c(1990:2016),
sex == 2,
age %in% c(40:55))
data %>%
filter(year %in% c(1992:2016),
sex == 2,
age %in% c(40:55))
data %>%
filter(year %in% c(1992:2016),
sex == 2,
age %in% c(40:55)) %>%
mutate(educ_group2 = case_when(educ <= 73 ~ "Less than college",
educ %in% c(80:100) ~ "Some college",
educ %in% c(111) ~ "Bachelor's",
educ %in% c(123:124) & occ2010 %in% c(2100, 3060) ~ "Master's (Lawyer/Doctor)",
educ %in% c(123:124) & !occ2010 %in% c(2100, 3060) ~ "Master's",
educ == 125 ~ "PhD"),
educ_group2 = fct_relevel(educ_group2, c("PhD", "Master's",
"Master's (Lawyer/Doctor)", "Bachelor's",
"Some college", "Less than college")))
data %>% filter(occ2010 %in% c(2100, 3060))
data %>% filter(occ2010 %in% c(2100, 3060), year %in% c(1992:2016))
data %>%
filter(year %in% c(1992:2016),
sex == 2,
age %in% c(40:55)) %>%
mutate(educ_group2 = case_when(educ <= 73 ~ "Less than college",
educ %in% c(80:100) ~ "Some college",
educ %in% c(111) ~ "Bachelor's",
educ %in% c(123:124) & occ2010 %in% c(2100, 3060) ~ "Master's (Lawyer/Doctor)",
educ %in% c(123:124) & !occ2010 %in% c(2100, 3060) ~ "Master's",
educ == 125 ~ "PhD"),
educ_group2 = fct_relevel(educ_group2, c("Less than college", "Some college", "Bachelor's",
"Master's (Lawyer/Doctor)", "Master's", "PhD")),
educ_group3 = case_when(educ <= 73 ~ "Less than college",
educ %in% c(80:100) ~ "Some college",
educ %in% c(111) ~ "Bachelor's",
educ %in% c(123:124) ~ "Master's",
educ == 125 ~ "PhD"),
educ_group3 = fct_relevel(educ_group3, c("Less than college", "Some college", "Bachelor's",
"Master's", "PhD")))
cpsdata_educ <- data %>%
filter(year %in% c(1992:2016),
sex == 2,
age %in% c(40:55)) %>%
mutate(educ_group2 = case_when(educ <= 73 ~ "Less than college",
educ %in% c(80:100) ~ "Some college",
educ %in% c(111) ~ "Bachelor's",
educ %in% c(123:124) & occ2010 %in% c(2100, 3060) ~ "Master's (Lawyer/Doctor)",
educ %in% c(123:124) & !occ2010 %in% c(2100, 3060) ~ "Master's",
educ == 125 ~ "PhD"),
educ_group2 = fct_relevel(educ_group2, c("Less than college", "Some college", "Bachelor's",
"Master's (Lawyer/Doctor)", "Master's", "PhD")),
educ_group3 = case_when(educ <= 73 ~ "Less than college",
educ %in% c(80:100) ~ "Some college",
educ %in% c(111) ~ "Bachelor's",
educ %in% c(123:124) ~ "Master's",
educ == 125 ~ "PhD"),
educ_group3 = fct_relevel(educ_group3, c("Less than college", "Some college", "Bachelor's",
"Master's", "PhD")))
path_educ = "refined/cps_educ_groups.rdata"
save(cpsdata_educ, file = path_educ)
# Installing required packages
packages <- c("tidyverse", "paletteer")
to_install <- packages[!(packages %in% installed.packages()[,"Package"])]
if(length(to_install) > 0) install.packages(to_install)
lapply(packages, require, character.only = TRUE)
# Clean workspace
rm(list = ls())
# Set working directory
setwd("C:/Users/gustavoml/Desktop/Projects/FertilityFacts")
# Load intermediate datasets
load("refined/acs_educ_groups.rdata")
load("refined/cps_educ_groups.rdata")
cpsdata_educ %>%
filter(YEAR %in% c(1992, 2000, 2010, 2016),
AGE %in% c(45:50))
cpsdata_educ %>%
filter(year %in% c(1992, 2000, 2010, 2016),
age %in% c(45:50))
View(cpsdata_educ)
cpsdata_educ %>%
filter(year %in% c(1992, 2000, 2010, 2016),
age %in% c(40:44))
cpsdata_educ %>%
filter(year %in% c(1992, 2000, 2010, 2016),
age %in% c(40:44)) %>%
group_by(year, educ_group3) %>%
summarise(nchildren_born = weighted.mean(frever, w = wtfinl),
records = n()) %>%
ungroup()
completed_fertility_cps <- cpsdata_educ %>%
filter(year %in% c(1992, 2000, 2010, 2016),
age %in% c(40:44)) %>%
group_by(year, educ_group3) %>%
summarise(nchildren_born = weighted.mean(frever, w = wtfinl),
records = n()) %>%
ungroup()
completed_fertility_cps %>%
ggplot(aes(x = educ_group3, y = nchildren_born,
group = year, color = factor(year), shape = factor(year))) +
geom_line(aes(linetype = factor(year)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1992" = "#1b9e77",
"2000" = "#7570b3",
"2010" = "#e31a1c",
"2016" = "#e7298a")) +
scale_shape_manual(values = c(15, 17, 18, 8)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash")) +
labs(x = "Education", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (CPS, Women aged 40-44)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
completed_fertility_cps %>%
ggplot(aes(x = educ_group3, y = nchildren_born,
group = year, color = factor(year), shape = factor(year))) +
geom_line(aes(linetype = factor(year)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1992" = "#1b9e77",
"2000" = "#7570b3",
"2010" = "#e31a1c",
"2016" = "#d95f02")) +
scale_shape_manual(values = c(15, 17, 18, 8)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash")) +
labs(x = "Education", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (CPS, Women aged 40-44)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
completed_fertility_plot_cps <- completed_fertility_cps %>%
ggplot(aes(x = educ_group3, y = nchildren_born,
group = year, color = factor(year), shape = factor(year))) +
geom_line(aes(linetype = factor(year)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1992" = "#1b9e77",
"2000" = "#7570b3",
"2010" = "#e31a1c",
"2016" = "#d95f02")) +
scale_shape_manual(values = c(15, 17, 18, 8)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash")) +
labs(x = "Education", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (CPS, Women aged 40-44)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
completed_fertility_plot_cps <- completed_fertility_cps %>%
ggplot(aes(x = educ_group3, y = nchildren_born,
group = year, color = factor(year), shape = factor(year))) +
geom_line(aes(linetype = factor(year)), linewidth = 1) +
geom_point(size = 3) +
scale_color_manual(values = c("1992" = "#1b9e77",
"2000" = "#7570b3",
"2010" = "#e31a1c",
"2016" = "#d95f02")) +
scale_shape_manual(values = c(15, 17, 18, 8)) +
scale_linetype_manual(values = c("dashed", "dotted", "dotdash", "twodash")) +
labs(x = "Education", y = "Completed Fertility",
color = "Year", shape = "Year", linetype = "Year",
title = "Children ever born (CPS, Women aged 40-44)") +
theme_minimal() +
theme(legend.position = "right",
axis.text = element_text(size = 10),
axis.line = element_line(),
axis.ticks = element_line(),
panel.grid = element_blank())
figure6_path <- "figures/completed_fetility_cps_40_44.jpeg"
overleaf6_path <- "overleaf/completed_fetility_cps_40_44.jpeg"
ggsave(figure6_path, plot = completed_fertility_plot_cps, dpi = 320, width = 7, height = 5)
ggsave(overleaf6_path, plot = completed_fertility_plot_cps, dpi = 320, width = 7, height = 5)
